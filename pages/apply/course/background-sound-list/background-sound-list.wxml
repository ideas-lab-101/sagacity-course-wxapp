<wu-toast id="wu-toast" />
<wu-loading id="wu-loading" />
<wxs src="./background-sound-list.wxs" module="moduleBackgroundSoundList" />

<wu-navigation title="{{nav.title}}" backgroundColor="{{nav.backgroundColor}}" navTitle="{{nav.navTitle}}" animation="{{nav.animation}}" />

<view class="bs-container">

    <view class="bs-tab">
        <scroll-view scroll-x class="bs-tab-box"
                     scroll-left="{{tabParams.left}}"
                     scroll-with-animation="true"
                     id="index-tab-box">
            <view class="bs-tab-single-box" style="width: auto;">
                <text wx:for-items="{{tabData}}"
                      wx:key="{{index}}"
                      class="sticky-tab-single {{tabIndex === index?'active':''}}"
                      catchtap="tabChangeEvent"
                      data-index="{{index}}">{{item.Caption}}</text>
            </view>
        </scroll-view>
    </view>

    <view class="bs-con">

        <block wx:if="{{listData.length>0}}">
        <view class="bs-single {{item.MusicID === listCheckedId ?'active':''}}" wx:for="{{listData}}" wx:key="{{index}}" bindtap="checkEvent" data-index="{{index}}">
            <view class="_insert">
                <view class="_image {{!tryParams.isPlay || tryParams.id !== item.MusicID?'':'active'}}">
                    <view><image src="{{item.CoverURL}}" mode="aspectFill"/></view>
                </view>
                <view class="_name">{{item.Title}}</view>
                <view class="_like" wx:if="{{item.likeCount !== 0}}">{{item.likeCount}}人用过</view>
                <view class="_like" wx:else>没人用过</view>
                <view class="_recommend">
                    <text class="iconfont icon-duigou"></text>
                </view>
            </view>
            <view class="_try">
                <text catchtap="tryListenEvent" data-index="{{index}}" wx:if="{{!tryParams.isPlay || tryParams.id !== item.MusicID}}">试听</text>
                <text catchtap="tryListenEvent" data-index="{{index}}" wx:else>播放中</text>
            </view>
        </view>
        </block>
        <view class="nodata" wx:else>暂无数据</view>

    </view>

</view>

